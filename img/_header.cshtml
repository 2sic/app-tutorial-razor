@inherits Custom.Hybrid.Razor14
@Html.Partial("../shared/_Header.cshtml", new { Title = "Images Tutorial", Name = "Images", Link = "#img" })
@Html.Partial("../shared/_NavigationToolbar.cshtml")
@* Styles to use on all Img Demos *@
<style>
  snippet img { max-width: 100% }
</style>

@*
 Scripts used on many of the samples
 Should probably be improved / moved out but for now it's simple and works
*@

<script>
  function getbySelector(id) { return document.querySelector(id) };

  function showCurrentSrc(imgId, labelId) {
    const img = getbySelector(imgId);
    console.log(imgId, labelId, img);
    let src = img.currentSrc;
    const lastSlash = src.lastIndexOf('/');
    src = "..." + src.substring(lastSlash);
    getbySelector(labelId).innerHTML = 'CurrentSrc:' + src;
  }
  
  function showChangingSrc(sampleId) {
    const imgSelector = "#" + sampleId + " img";
    const labelId = "#" + sampleId + "-label";
    showCurrentSrc(imgSelector, labelId);
    getbySelector(imgSelector).onload = function () { showCurrentSrc(imgSelector, labelId); }
  }
</script>