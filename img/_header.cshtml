@inherits Custom.Hybrid.Razor14
@Html.Partial("../Shared/Layout/Header.cshtml", new { Sys = DynamicModel.Sys, Title = "Images Tutorial", Name = "Images", Link = "#img" })
@* Styles to use on all Img Demos *@
<style>
  .tab-pane img { max-width: 100%; height: auto; }
</style>

@*
 Scripts used on many of the samples
 Should probably be improved / moved out but for now it's simple and works
*@

<script>
  function getbySelector(id) { return document.querySelector(id) };

  function showCurrentSrc(imgId, labelId) {
    const img = getbySelector(imgId);
    // console.log(imgId, labelId, img);
    let src = img.currentSrc;
    const lastSlash = src.lastIndexOf('/');
    src = "..." + src.substring(lastSlash);
    const label = getbySelector(labelId);
    if (label)
      label.innerHTML = 'CurrentSrc:' + src;
    else
      console.warn("Can't find label: " + labelId);
  }
  
  function showChangingSrc(sampleId) {
    // note: the `-output` suffix is from the demo-tabs which place the img in a ...-output div
    const imgSelector = "#" + sampleId + "-default img";
    const labelId = "#" + sampleId + "-label";
    showCurrentSrc(imgSelector, labelId);
    getbySelector(imgSelector).onload = function () { showCurrentSrc(imgSelector, labelId); }
  }
</script>