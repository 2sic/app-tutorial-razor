@inherits Custom.Hybrid.RazorTyped
@{
  // Sys helps generate code snippets etc.
  var Sys = GetCode("/shared/Helpers.cs").Init(this);
  // The accordion is an external helper file, so we must treat it as dynamic
  var acc = MyModel.Get("Accordion") as dynamic;
  // variable to hold each section config
  dynamic accSection;
  dynamic qref;
}

@((accSection = acc.Section("quickref-myheader")).Start())
  @{
    // Patch so the tutorial works reliably even if the main module had data added which are not a person
    // So we're simulating that `MyItems`, `Presentation` etc. work like on a normal view
    var data = App.GetQuery("QuickRef-Content-Simulation");
    var MyItems = AsItems(data.GetStream("Default"));
    var MyHeader = AsItem(data.GetStream("Header"));
  }
  @((qref = Sys.SourceCode.QuickRefSplit33(tutorials: new string[] { "entity", "content" })).SnipStart())
    <h3>@MyHeader.Title</h3>
    <ul>
      @foreach (var item in MyItems) {
        <li>
          @item.Title
        </li>
      }
    </ul>
  @qref.SnipEnd()
@accSection.End()


