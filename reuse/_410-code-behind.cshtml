@* Note that the Code-Behind features requires this @inherits statement *@
@inherits Custom.Hybrid.Razor14
<hide>
@Html.Partial("_header.cshtml")
@{  
  var linker = CreateInstance("../shared/Helpers.cs");
  var code = CreateInstance("_410CodeBehind.cs");
}
@*
  Tutorial Notes

  This file cannot be rendered in Oqtane, because it must inherit from Custom.Dnn.Razor12 - which doesn't exist of course ;)

  // 2sxc linting rules
  2sxclint:disable:must-inherit-hybrid-razor12
*@
</hide>

<trim>
<h2>Use Code-Behind in Razor Templates (new in V11, deprecated in v12)</h2>
<div class="alert alert-warning">
  <p>
    Code-Behind is being depraced in v12, because the idea behind it won't work in Oqtane ðŸ’§. <br>
    We'll continue to support it in Dnn and to use it, you'll have to inherit from <code>Custom.Dnn.Razor12</code>, 
    but we strongly suggest you move to the other features which provide the same functionality:
    <ol>
        @linker.TutorialLink("Reuse CreateInstance instead", 
    "reuse320",
    "CreateInstance is enhanced in 2sxc 10.01 to support .cs files to share code across Razor files and WebApi Controllers.",
    "")
    </ol>
  </p>
</div>
<div class="alert alert-info">
  <p>
    Razor Templates should be simple to edit for web designers. When you end up getting complex functions we recommend placing them in a Code-Behind file. This is different from shared code, since the code isn't shared. We're just splitting a razor file into the code-parts and design parts. 
  </p>
</div>
</trim>

<hr>
<h2>Calling a function from the code-behind</h2>
<trim>
<p>This calls the function <code>Hello()</code> from the Code-Behind.</p>
</trim>

<div>Hello from Code Behind: <strong>@code.Hello()</strong></div>

<hr>
<h2>Calling a helper from the code-behind</h2>
<trim>
<p>This creates a special alert-div using a Helper called <code>Message</code> from the Code-Behind.</p>
</trim>

@code.Message("Message in a special format")

<hide>
@Html.Partial("../shared/_PreCodeFooter.cshtml")
@Html.Partial("../shared/_source-code.cshtml", new { Path, Size = 400 }) 
@Html.Partial("../shared/_source-code.cshtml", new { 
  Path,
  File = "_410CodeBehind.cs",
  Size = 400
}) 
</hide>