@inherits Custom.Hybrid.Razor14
@using System.Linq;

<hide>
  @{
    var hlp = CreateInstance("../shared/Helpers.cs");
  }
</hide>

@Html.Partial("_header.cshtml")

<div class="row">
  <div class="col-lg-7">
    <h2><code>Count()</code> and <code>Count</code></h2>
    <p>Count some stuff.</p>
    @*
      note to tutorial designers, in v14 it's still an IEnumerable, not IList, so it needs Count()
    *@
    @* <p>
      All list of items in 2sxc are technically <code>List&lt;...&gt;</code> objects.
      This means they have the property <code>Count</code> (without brackets<code>()</code>).
    </p> *@
  </div>
  @Html.Partial("../shared/_DefaultInfoSection.cshtml")

</div>

<snippet id="linq-count">
@{
  var persons = AsList(App.Data["Persons"]);
  var books = AsList(App.Data["Books"]);
}
<ol>
  <li>
    All Persons: @persons.Count()
  </li>
  <li>
    All Books: @books.Count()
  </li>
  <li>
    Books with Illustrators: @books.Where(b => (b.Illustrators.Count > 0).Count())
  </li>
</ol>
</snippet>
<hide-silent> @* Show only this snippet *@
  @Html.Partial("../shared/_source-code.cshtml", new { Path, Snippet = "linq-count", Size = 300 }) 
</hide-silent>

<hide>
@Html.Partial("../shared/_PreCodeFooter.cshtml")
@Html.Partial("../shared/_source-code.cshtml", new { Path, Size = 1200 }) 
</hide>