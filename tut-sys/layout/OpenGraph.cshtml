@inherits Custom.Hybrid.RazorTyped
@using ToSic.Razor.Blade;
@{
  var Sys = MyModel.Code("Sys");
  var tutPage = MyModel.Item("TutPage");

  @* meta variables *@
  var metaTitle = tutPage.String("Title", scrubHtml: true);
  
  var metaDescription = tutPage.String("LinkTeaser", scrubHtml: true);
  var hasImg = tutPage.IsNotEmpty("ShareImage");
  var metaImageUrl = hasImg ? tutPage.Url("ShareImage") : null;

  // Add open graph meta information
  Kit.Page.AddOpenGraph("og:type", "article");
  Kit.Page.AddOpenGraph("og:title", metaTitle);
  Kit.Page.AddOpenGraph("og:site_name", "Razor Tutorials");
  Kit.Page.AddOpenGraph("og:url", Link.To(parameters: MyPage.Parameters));
  Kit.Page.AddOpenGraph("og:description", metaDescription);
  if (hasImg) {
    Kit.Page.AddOpenGraph("og:image", metaImageUrl);
    Kit.Page.AddOpenGraph("og:image:height", "630");
    Kit.Page.AddOpenGraph("og:image:width", "1200");
  }

  // Add twitter meta information
  Kit.Page.AddMeta("twitter:card", "summary_large_image");
  Kit.Page.AddMeta("twitter:title", metaTitle);
  Kit.Page.AddMeta("twitter:description", metaDescription);

  if (hasImg) {
    Kit.Page.AddMeta("twitter:image", metaImageUrl);
  }
}